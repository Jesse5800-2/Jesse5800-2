---
import { profileConfig } from "../config";
import { url } from "../utils/url-utils";

const currentYear = new Date().getFullYear();
const showComments = Astro.props.show_comments;  // 获取 Frontmatter 中的 show_comments
---

<!-- 只有当 show_comments 为 true 时才显示评论区 -->
{showComments && (
  <div id="utterances-container">
    <script
      src="https://utteranc.es/client.js"
      repo="Jesse5800-2/mainpage-comments"
      issue-term="pathname"
      theme="preferred-color-scheme"
      crossorigin="anonymous"
      async
    ></script>
  </div>
)}

<!-- 其他页脚内容 -->
<div class="transition border-t border-black/10 dark:border-white/15 my-10 border-dashed mx-32"></div>
<div class="transition border-dashed border-[oklch(85%_0.01_var(--hue))] dark:border-white/15 rounded-2xl mb-12 flex flex-col items-center justify-center px-6">
  <div class="transition text-50 text-sm text-center">
    &copy; <span id="copyright-year">{currentYear}</span> {profileConfig.name}. All Rights Reserved. /
    <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('rss.xml')}>RSS</a> /
    <a class="transition link text-[var(--primary)] font-medium" target="_blank" href={url('sitemap-index.xml')}>Sitemap</a><br>
    Powered by
    <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://astro.build">Astro</a> &
    <a class="transition link text-[var(--primary)] font-medium" target="_blank" href="https://github.com/saicaca/fuwari">Fuwari</a>
  </div>
</div>
